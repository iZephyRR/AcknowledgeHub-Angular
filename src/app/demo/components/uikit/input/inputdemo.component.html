<div class="schedule-list">
  <div class="card">
    <div class="card-header" style="background-color: white;">
      <h3>Announcements Schedule List</h3>
    </div>
    <div *ngIf="groupedAnnouncements && groupedAnnouncements.length > 0; else noAnnouncements">
      <div class="grouped-announcements-container">
        <div *ngFor="let group of groupedAnnouncements" class="grouped-card">
          <div class="card-header">
            {{ group.date | date: 'dd/MM/yyyy' }}
          </div>
          <div class="card-body">
            <div *ngFor="let announcement of group.announcements" class="announcement-item">
              <div class="announcement-header">
                <h5 class="card-title">
                  {{ announcement.title }} By {{announcement.role}}
                </h5>
                <p class="announcement-time">{{ group.date | date: 'shortTime' }}</p>
                <p><strong>Countdown:</strong> {{ announcement.countdown }}</p>
              </div>
              <div class="button-group">
                <button class="action-button upload-button" (click)="uploadNow(announcement.id)">
                  <i class="pi pi-check"></i> Upload Now
                </button>
                <button class="action-button delete-button" (click)="delete(announcement.id)">
                  <i class="pi pi-trash"></i> Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <ng-template #noAnnouncements>
      <p style="text-align: center;">There are no announcements in the schedule list.</p>
    </ng-template>
  </div>
</div>

<style>
  .schedule-list {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: space-between;
  }

  .grouped-announcements-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* 2 columns of equal width */
  gap: 20px; /* Space between the cards */
}

.grouped-card {
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 10px;
  background-color: #fff;
  display: flex;
  flex-direction: column;
}

.card-header {
  font-weight: bold;
  font-size: 1.2em;
  background-color: #007bff;
  color: #fff;
  padding: 10px;
  border-radius: 4px;
  margin-bottom: 10px;
}

.card-body {
  padding: 10px;
}

.announcement-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.announcement-header {
  display: flex;
  align-items: center;
  gap: 15px;
  flex: 1;
}

.card-title {
  font-size: 1.1em;
  margin: 0;
}

.announcement-time {
  font-size: 1em;
  color: #777;
  margin-left: 10px;
}

.countdown {
  font-size: 1em;
  color: #888;
}

.button-group {
  display: flex;
  gap: 10px;
}

.action-button {
  display: flex;
  align-items: center;
  gap: 5px;
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  color: #fff;
  font-size: 0.9em;
  cursor: pointer;
}

.upload-button {
  background-color: #28a745;
}

.upload-button:hover {
  background-color: #218838;
}

.delete-button {
  background-color: #dc3545;
}

.delete-button:hover {
  background-color: #c82333;
}

</style>
